---
name: analyze-xhs-topic
description: 小红书选题分析工具，用于每周/每月选题规划时分析热门笔记的选题机会。当用户需要：1) 分析小红书某个关键词的热门笔记，2) 提取爆款方法论（标题公式、框架类型、火爆原因），3) 基于账号人设生成定制选题时使用此 skill。用户提供关键词，skill 通过 MediaCrawler 搜索并采集笔记内容，分析核心理念、火爆原因、可复用方法，并生成定制选题。分析报告输出到对话中供用户审批，确认后保存到 skill 的 assets/reports/ 目录。
---

# 小红书选题分析

## Overview

分析小红书热门笔记的选题机会，提取爆款方法论，基于账号人设生成定制选题。用于每周/每月选题规划。

## 核心工作流程

### Step 1: 获取用户需求

用户提供关键词（如"裸辞"、"绩效"、"晋升"、"gap"）。

**示例用户输入**：
- "帮我分析'裸辞'这个关键词的小红书选题"
- "看看'晋升'有什么好的选题机会"
- "小红书选题分析：绩效考核"
- "分析一下gap这个主题"

### Step 2: 运行 MediaCrawler 爬取数据

使用 MediaCrawler 工具搜索关键词并采集笔记内容。

**MediaCrawler 项目路径**：`/Users/it/Documents/AI/Claude Code/MediaCrawler/`

**脚本路径**：`scripts/run_crawler.sh`

**运行方法**：
```bash
bash /Users/it/.claude/skills/analyze-xhs-topic/scripts/run_crawler.sh <关键词> [数量]
```

**参数说明**：
- `关键词`：用户提供的关键词（必需）
- `数量`：爬取笔记数量，默认20篇（可选）

**搜索配置**：
- 平台：小红书（xhs）
- 排序方式：热度降序（popularity_descending）
- 笔记类型：不限（图文+视频）
- 数量：默认15-20篇

**数据获取**：
- **图文笔记**：提取标题 + 正文（desc字段）
- **视频笔记**：提取标题 + 描述（desc字段，不提取视频脚本）

**数据保存位置**：
- `MediaCrawler/data/xhs/json/search_contents_YYYY-MM-DD.json`
- `MediaCrawler/data/xhs/json/search_comments_YYYY-MM-DD.json`

**注意事项**：
- 爬虫需要扫码登录小红书
- 登录状态会保存，下次使用无需重新登录
- 如果登录失败，会提示用户手动扫码

### Step 3: 读取账号人设

**人设文件路径**：`/Users/it/Documents/AI/Claude Code/user.md`

**关键信息**：
- 账号定位：产品经理分享产品设计、产品方法、职场经验
- 内容方向：产品设计、内容创作、工作方法、内容运营
- 写作风格：精准直接、专业但自然、有真实经历、克制但有力度
- 字数要求：900-950字
- 目标受众：23-35岁，产品经理、运营、互联网从业者

### Step 4: 分析笔记数据

对采集的笔记进行分析，参考 `references/analysis_framework.md` 中的分析框架。

**分析维度**：

#### 4.1 核心理念
- 主要观点（1-2句话）
- 情绪倾向（积极/消极/中立）

#### 4.2 火爆原因（Top 3）
- 情绪价值：给读者什么情绪
- 社会价值：是否涉及热门话题
- 实用价值：是否提供方法/技巧

#### 4.3 可复用方法

**标题公式**（3-5个）：
- 数字+结果+情绪
- 反常识+悬念
- 具体场景+共鸣
- 问句+痛点

**框架类型**：
- 个人叙事型
- 问题-解决型
- 信号列举型
- 观点输出型
- 祝福型

### Step 5: 生成定制选题

基于账号人设生成定制选题。

**选题分类**：
- **个人经历类**：基于用户真实经历
- **方法分享类**：可复制的方法论
- **观点输出类**：颠覆认知的观点

**选题要求**：
- 每个选题 10-50 字
- 数量灵活：通常 8-15 个
- 必须符合账号人设和目标粉丝需求
- 具有可操作性

### Step 6: 输出分析报告

**输出方式**：先在对话中展示完整报告，供用户审批

**报告格式**：
```markdown
# 小红书选题分析报告

**关键词**：[关键词]
**分析时间**：[日期]
**分析数量**：[数量] 篇

---

## 一、核心理念

**主要观点**：[1-2句话]
**情绪倾向**：[积极/消极/中立]

---

## 二、火爆原因（Top 3）

1. **[情绪价值]** 具体说明
2. **[社会价值]** 具体说明
3. **[实用价值]** 具体说明

---

## 三、可复用方法

### 3.1 标题公式

1. **[公式名称]**
   - 公式：[公式结构]
   - 示例：[实际标题]

### 3.2 框架类型

- **[框架类型1]**（[占比]%）：[说明]
- **[框架类型2]**（[占比]%）：[说明]

---

## 四、TOP 笔记清单

| 排名 | 标题 | 点赞 | 收藏 | 评论 | 链接 |
|------|------|------|------|------|------|
| 1 | [标题] | [点赞数] | [收藏数] | [评论数] | [笔记链接] |
| 2 | [标题] | [点赞数] | [收藏数] | [评论数] | [笔记链接] |
| ... | ... | ... | ... | ... | ... |

---

## 五、为你的账号定制的选题

### 个人经历类
1. [选题]（预计字数）

### 方法分享类
1. [选题]（预计字数）

### 观点输出类
1. [选题]（预计字数）

---

## 五、为你的账号定制的选题

### 个人经历类
1. [选题]（预计字数）

### 方法分享类
1. [选题]（预计字数）

### 观点输出类
1. [选题]（预计字数）

---

## 六、TOP 笔记清单

| 排名 | 标题 | 点赞 | 收藏 | 评论 | 链接 |
|------|------|------|------|------|------|
| 1 | [标题] | [点赞数] | [收藏数] | [评论数] | [笔记链接] |
| 2 | [标题] | [点赞数] | [收藏数] | [评论数] | [笔记链接] |
| ... | ... | ... | ... | ... | ... |
```

**文件命名规则**：
- 格式：`[关键词]_选题分析_YYYY-MM-DD.md`
- 示例：`裸辞_选题分析_2026-02-23.md`

**文件保存路径**：
- `/Users/it/.claude/skills/analyze-xhs-topic-skill/assets/reports/[关键词]_选题分析_YYYY-MM-DD.md`

**保存时机**：用户审批通过后再保存

## 重要注意事项

1. **数据真实性**：只分析真实的小红书笔记，不捏造数据
2. **视频笔记处理**：只分析标题+描述，不获取视频脚本
3. **选题定制化**：所有选题都基于用户的账号人设生成
4. **灵活调整**：选题数量根据分析结果灵活决定，不强制固定数量
5. **输出优先**：先在对话中展示，用户确认后再保存文件
6. **账号人设**：每次分析时读取最新的 `user.md` 文件

## MediaCrawler 工具依赖

此 skill 依赖 MediaCrawler 工具进行数据采集。

**项目位置**：`/Users/it/Documents/AI/Claude Code/MediaCrawler/`

**GitHub 地址**：https://github.com/NanmiCoder/MediaCrawler

**使用场景**：
- ✅ 按关键词搜索笔记
- ✅ 按热度排序（热门排序）
- ✅ 获取笔记详细内容
- ✅ 获取评论数据
- ✅ 支持扫码登录

**如果工具不可用**：
- 网络问题
- 登录失败
- API 变化

可以改为手动模式：提示用户直接提供笔记内容。
