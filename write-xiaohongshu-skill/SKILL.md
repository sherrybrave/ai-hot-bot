---
name: write-xiaohongshu
description: 自动生成小红书图文笔记正文。当需要写小红书笔记时使用。
---

# Write Xiaohongshu

自动生成小红书图文笔记正文，保持用户的个人风格。

## 使用场景

当用户需要创作小红书笔记时使用：
- "帮我写一篇关于产品思维的小红书笔记"
- "我有 idea，帮我写成小红书笔记"
- "根据这个思路写小红书笔记：[用户提供思路]"
- "用 XX 文章的框架，写一篇关于 YY 的笔记"
- "新增参考文章：[粘贴文章内容]"
- **新增功能**：发送小红书笔记链接，自动提取内容
- "帮我提取这个笔记的内容：[小红书笔记链接]"

## 核心工作流程

### Step 1: 理解用户需求

**必需信息**：
- 用户主题/idea（用户提供）

**可选信息**：
- 指定参考文章（用户说"用 XX 的框架"时）
- 小红书笔记链接（用户说"帮我提取这个笔记的内容"）
- 其他要求（目标读者、语气、侧重点等）

### Step 2: 确定参考文章

**场景 A：用户指定参考文章**
- 读取用户指定的文章

**场景 B：用户未指定（自动匹配）**
1. 分析用户的 idea，判断适合的框架类型
2. 读取 `references/classification.md`（分类规则）
3. 根据框架类型，在 `references/articles/` 下搜索对应分类的文章
4. 选择最匹配的 1-2 篇作为参考

**场景 C：用户提供小红书链接** ⭐ **新增**
- 使用XHS-Downloader工具提取笔记内容：
  - 笔记标题
  - 笔记正文
  - 图片链接（如果有）
  提取的内容作为写作参考

### Step 3: 提取框架和文风

从参考文章中提取：
- **写作框架**：文章结构、逻辑链条、段落功能
- **文风特征**：语气、句式、表达习惯
- **金句/常用表达**：可复用的句子

同时读取：
- `references/frameworks.md`（框架结构说明）
- `references/style-guide.md`（用户文风指南）

### Step 4: 生成正文

**公式**：`idea + 框架 + 文风 + 提取内容（如有） → 完整正文`

**写作要求**：
1. 严格按照提取的框架结构展开
2. 使用用户的文风（语气、句式、表达习惯）
3. 自然嵌入用户的金句和常用表达
4. 适配小红书风格：适当使用表情符号、段落清晰、口语化
5. 控制字数：**不超过 950 字**（最佳范围 900-950 字）
6. 内容完整、逻辑清晰、可读性强

**用户的写作风格特点**：
- ✅ **精准直接** - 一句话到位，不啰嗦
- ✅ **专业但自然** - 有专业术语但不生硬
- ✅ **有真实经历** - 用自己的故事增加可信度
- ✅ **不对话式** - 直接说道理，不用引语
- ✅ **克制但有力度** - 每句话都有价值

**避免的 AI 错误**：
- ❌ 概括性描述（"具备了能力"、"影响力超出范围"）
- ❌ 刻意杜撰小细节（"茶杯温热"、"眼里有信任的光"）
- ❌ 文学化比喻（"沉甸甸的"、"被肯定的光"）
- ❌ 抄袭参考文章的表达
- ❌ **编造故事和场景**（不要写"leader说过：XXX"、"当时觉得XXX"等用户没提供的对话和场景）

### Step 5: 输出结果

**正文输出**：
直接输出完整正文，**不解释**你做了什么。

**封面生成**（可选）：
- 用户说"要封面"时，主动询问是否需要生成

## 📦 小红书链接提取功能

当用户提供小红书笔记链接时，skill会：
1. 使用XHS-Downloader工具自动提取笔记内容
2. 提取的内容作为写作参考
3. 无需用户手动复制粘贴

### 功能说明

**XHS-Downloader** 是一个小红书采集工具，支持：
- 提取笔记标题和正文
- 下载小红书作品文件
- 提取账号发布、收藏、点赞记录
- 搜索功能和用户信息查询

### 使用位置

- 集成脚本：`tools/extract-xhs-integrated.mjs`

### 使用方式

**从skill中调用**：
```javascript
exec({
  command: "node /Users/it/.openclaw/workspace/skills/write-xiaohongshu/tools/extract-xhs-integrated.mjs <小红书笔记URL>"
});
```

### 返回内容

成功时返回：
```json
{
  "url": "笔记链接",
  "title": "笔记标题",
  "content": "笔记正文",
  "extracted": true
}
```

失败时返回：
```json
{
  "url": "笔记链接",
  "title": "",
  "content": "",
  "extracted": false,
  "error": "错误信息"
}
```

### 注意事项

1. **依赖要求**：XHS-Downloader需要先安装到系统中
   - 位置：`/tmp/xhs-downloader`
   - 安装命令：`git clone https://github.com/JoeanAmier/XHS-Downloader.git /tmp/xhs-downloader && pip install -r requirements.txt`

2. **超时设置**：脚本设置30秒超时，防止长时间等待

3. **提取失败处理**：
   - 如果笔记被删除、设置为私密，可能提取失败
   - XHS-Downloader本身可能有维护问题
   - 建议提取失败时，用户可以手动复制内容

4. **输出格式**：提取的内容会直接作为参考，不需要额外格式化

## 重要提醒

1. **保持用户风格**：从参考文章中提取用户的独特表达和金句
2. **不编造框架**：框架必须来自参考文章或 frameworks.md
3. **字数严格限制**：950字以内，最佳范围 900-950 字
4. **不输出元信息**：直接输出正文，不要说"根据你的要求"
5. **小红书风格**：适当使用表情符号、短段落、口语化表达
6. **小红书链接提取**：自动提取，无需手动复制

## Skill 自进化能力

本 Skill 具备持续学习和自我完善的能力：

**任务开始时**：读取 `knowledge/` 文件夹中的所有知识
**任务执行中**：记录问题、学习纠正、提炼成功模式
**任务完成后**：将新学到的内容追加到 `knowledge/` 文件夹

通过这种方式，Skill 会随着使用次数增加而变得越来越强大和精准。

开始创作吧！
