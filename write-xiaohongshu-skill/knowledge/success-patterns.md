# 文件结构优化

**日期**：2026-02-10
**类型**：成功经验 / 结构优化

## 问题描述

1. SKILL.md 过长（373行），包含太多操作细节
2. knowledge/ 和 references/ 可能有重合信息
3. 缺少清晰的结构划分和使用指南

## 解决方案

### 1. 精简 SKILL.md

**从 373 行精简到 132 行**

移除的内容：
- "新增参考文章的标准流程"（122行）
- 封面图片生成详细说明
- 过于详细的步骤说明

保留的内容：
- 核心工作流程（Step 1-5）
- 用户风格特点
- 资源文件说明
- Skill 自进化机制

**改进**：
- 更简洁明了
- 专注核心指令
- 操作细节移到 guides/

### 2. 创建 guides/ 文件夹

**目的**：将操作指南和核心指令分离

新建文件：
- `add-reference-article.md` - 新增参考文章的7步流程
- `file-management.md` - 文件管理规范、双路径机制
- `manage-frameworks.md` - 框架管理指南

**优势**：
- SKILL.md 保持简洁
- 操作指南独立管理
- 便于查找和维护

### 3. 明确 knowledge/ vs references/ 的区别

**核心区别**：
- **knowledge/** = "如何用"（经验、教训、反思）
- **references/** = "用什么"（框架、文章、规则）

**对比表**：

| 维度 | knowledge/ | references/ |
|------|-----------|------------|
| 性质 | 动态、持续进化 | 静态、相对稳定 |
| 内容 | 学习过程、经验教训 | 具体数据、资源 |
| 更新频率 | 每次任务后更新 | 按需更新 |
| 格式 | 有时间戳、反思、改进建议 | 结构化文档、模板 |

**具体对比**：
- **frameworks.md**（参考）vs **framework-insights.md**（知识）
  - 参考文件：框架的静态定义、结构模板、适用场景
  - 知识文件：框架的使用心得、成功案例、避坑指南

- **style-guide.md**（参考）vs **writing-style.md**（知识）
  - 参考文件：用户的文风特点、常用表达、金句库、写作禁忌
  - 知识文件：文风的进化历程、纠正记录、AI vs 人工对比

### 4. 更新 references/README.md

**升级为索引和导航文档**：
- 完整的文件结构说明
- knowledge/ vs references/ 的详细对比
- 各文件的用途说明
- 快速导航指南
- 使用建议

## 最终结构

```
write-xiaohongshu-skill/
├── SKILL.md                   # 核心指令（132行）
│
├── knowledge/                 # 知识库（持续进化）
│   ├── user-feedback.md      # 用户纠正和反馈
│   ├── success-patterns.md   # 成功模式和经验
│   ├── writing-style.md      # 文风学习和进化
│   ├── special-cases.md      # 特殊情况和处理
│   └── framework-insights.md # 框架使用心得
│
├── guides/                   # 操作指南
│   ├── add-reference-article.md
│   ├── file-management.md
│   └── manage-frameworks.md
│
└── references/               # 参考资料
    ├── README.md             # 索引和导航
    ├── classification.md     # 框架分类规则
    ├── frameworks.md         # 框架模板库
    ├── style-guide.md        # 用户文风指南
    └── articles/             # 参考文章库
```

## 适用场景

- Skill 文件过长、难以维护时
- knowledge/ 和 references/ 内容重合时
- 需要清晰的结构划分和使用指南时

## 改进建议

**已实施**：
✅ 精简 SKILL.md（从373行到132行）
✅ 创建 guides/ 文件夹
✅ 明确 knowledge/ 和 references/ 的区别
✅ 更新 references/README.md 为索引文档

**未来优化方向**：
- 考虑将 guides/ 的某些内容进一步精简
- 如果 knowledge/ 文件过多，考虑合并或重新分类
- 定期检查文档的清晰度和实用性

---

## 新经验：系统化更新流程

**日期**：2026-02-19
**类型**：流程优化 / 系统化工作

## 问题描述

用户发现，让 AI 更新小红书写作 skill 时，AI 表现不够主动：
- 只做最基本的任务（创建文章文件）
- 需要用户多次提醒才更新其他文档
- 没有系统思维，把"更新文章"当成孤立任务
- 缺少自检机制，没有主动检查是否遗漏

## 用户原话

"我发现我给你发文章，让你更新到小红书写作skill里，你还是需要我做详细的提醒、校验你有没有更新到位，你能不能总结下这次的经验，后面自己判断、校验、执行好？"

## 根本原因

1. **没有系统思维** - 把"更新文章"当成孤立任务，没有考虑到整个 skill 的完整性
2. **缺少自检机制** - 完成任务后没有主动检查是否还有遗漏
3. **依赖用户提醒** - 等用户问了才去做，而不是主动思考

## 解决方案：建立系统化的更新流程

### 完整的"新增文章"检查清单

**Step 1: 文章分析**
- ✅ 提取文章内容
- ✅ 判断框架类型（对照 classification.md）
- ✅ 判断是否是作者本人的笔记
  - 如果是：文件名加 `myself-` 前缀，标注"作者本人"
  - 如果不是：文件名用 `others-` 前缀

**Step 2: 文章入库**
- ✅ 创建文章文件（按框架类型分类）
- ✅ 添加详细的框架分析
- ✅ 提取爆点要素和写作技巧
- ✅ 双路径同步（项目路径 + 全局路径）

**Step 3: 文档更新（核心！）**

| 文档 | 更新内容 | 重要性 |
|------|---------|-------|
| **style-guide.md** | 新增文风特点、金句、常用表达 | ⭐⭐⭐⭐⭐ |
| **frameworks.md** | 更新框架的示例文章列表 | ⭐⭐⭐⭐⭐ |
| **classification.md** | 如果是新框架类型，添加定义 | ⭐⭐⭐⭐ |
| **SKILL.md** | 如果是新框架类型，更新框架数量 | ⭐⭐⭐ |

**Step 4: 知识库补充（重要！）**

| 文档 | 何时需要补充 | 补充内容 |
|------|------------|---------|
| **framework-insights.md** | 如果是新框架类型或重要经验 | 框架使用心得、成功案例、避坑指南 |
| **user-feedback.md** | 如果有用户纠正或特殊标注 | 纠正记录、反馈经验 |
| **writing-style.md** | 如果有新的文风特点 | 文风特点、表达偏好、学习要点 |
| **special-cases.md** | 如果遇到特殊情况 | 特殊情况处理、解决方案 |

**判断标准：**
- 🤔 **framework-insights.md**：这篇文章使用了重要框架吗？值得学习吗？
- 🤔 **user-feedback.md**：用户有特殊要求或纠正吗？
- 🤔 **writing-style.md**：这篇文章有新的文风特点吗？值得学习吗？
- 🤔 **special-cases.md**：遇到特殊情况了吗？

**Step 5: 双路径同步**
- ✅ 同步所有更新的文件
- ✅ 验证同步（用 diff 检查）

**Step 6: 自检清单**
- ✅ 文章文件已创建并正确分类
- ✅ 参考文档已更新（style-guide、frameworks）
- ✅ 知识库已补充（framework-insights、user-feedback、writing-style）
- ✅ 双路径已同步
- ✅ 没有遗漏

**Step 7: 向用户报告**
- ✅ 创建了哪些文件
- ✅ 更新了哪些文档
- ✅ 补充了哪些知识库内容
- ✅ 双路径同步状态

## 执行原则

### 1. 主动思考原则
不要等用户问，主动思考：
- 🤔 这篇文章是作者本人的吗？需要特殊标注吗？
- 🤔 这个框架是新类型吗？需要添加定义吗？
- 🤔 这篇文章有值得学习的文风特点吗？需要补充知识库吗？
- 🤔 用户有特殊要求吗？需要记录反馈吗？

### 2. 系统化原则
不要只做表面，系统化更新：
- 📚 文章入库 → 参考文档更新 → 知识库补充 → 双路径同步
- 📊 每一步都要检查是否有遗漏
- 🔄 建立完整的闭环

### 3. 自检原则
完成前一定要自检：
- ✅ 还有遗漏的文档吗？
- ✅ 双路径都同步了吗？
- ✅ 知识库需要补充吗？

## 适用场景

- 新增参考文章时
- 用户要求更新 skill 时
- 任何需要系统化更新的任务

## 改进效果

**建立流程前：**
- 只创建文章文件
- 需要用户多次提醒
- 遗漏其他文档更新

**建立流程后：**
- 系统化更新所有相关文档
- 主动补充知识库
- 自检确保没有遗漏

## 总结

核心思想：不要只做表面任务，要系统化思考，主动完成所有相关工作，并建立自检机制确保没有遗漏。
